{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "required": ["version", "bodyTypes", "layers", "animations"],
  "properties": {
    "version": {
      "type": "string",
      "description": "Version of the sprite asset index schema"
    },
    "bodyTypes": {
      "type": "object",
      "description": "Available body types for characters",
      "patternProperties": {
        "^[a-zA-Z0-9_-]+$": {
          "type": "object",
          "required": ["name", "description", "baseSprite", "variants"],
          "properties": {
            "name": {
              "type": "string",
              "description": "Display name of the body type"
            },
            "description": {
              "type": "string",
              "description": "Description of the body type"
            },
            "baseSprite": {
              "type": "string",
              "description": "Path to the base sprite sheet for this body type"
            },
            "variants": {
              "type": "object",
              "description": "Available variants for this body type",
              "properties": {
                "skinTones": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "required": ["id", "name", "colorHex", "spriteModifier"],
                    "properties": {
                      "id": { "type": "string" },
                      "name": { "type": "string" },
                      "colorHex": { "type": "string", "pattern": "^#[0-9a-fA-F]{6}$" },
                      "spriteModifier": { "type": "string" }
                    }
                  }
                },
                "heights": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "required": ["id", "name", "scale"],
                    "properties": {
                      "id": { "type": "string" },
                      "name": { "type": "string" },
                      "scale": { "type": "number", "minimum": 0.5, "maximum": 2.0 }
                    }
                  }
                },
                "weights": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "required": ["id", "name", "spriteModifier"],
                    "properties": {
                      "id": { "type": "string" },
                      "name": { "type": "string" },
                      "spriteModifier": { "type": "string" }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "layers": {
      "type": "object",
      "description": "Available layers for character customization",
      "properties": {
        "hair": {
          "type": "object",
          "required": ["styles", "colors"],
          "properties": {
            "styles": {
              "type": "array",
              "items": {
                "type": "object",
                "required": ["id", "name", "sprite"],
                "properties": {
                  "id": { "type": "string" },
                  "name": { "type": "string" },
                  "sprite": { "type": "string" }
                }
              }
            },
            "colors": {
              "type": "array",
              "items": {
                "type": "object",
                "required": ["id", "name", "colorHex"],
                "properties": {
                  "id": { "type": "string" },
                  "name": { "type": "string" },
                  "colorHex": { "type": "string", "pattern": "^#[0-9a-fA-F]{6}$" }
                }
              }
            }
          }
        },
        "facialFeatures": {
          "type": "object",
          "required": ["eyes", "mouths"],
          "properties": {
            "eyes": {
              "type": "array",
              "items": {
                "type": "object",
                "required": ["id", "name", "sprite"],
                "properties": {
                  "id": { "type": "string" },
                  "name": { "type": "string" },
                  "sprite": { "type": "string" }
                }
              }
            },
            "mouths": {
              "type": "array",
              "items": {
                "type": "object",
                "required": ["id", "name", "sprite"],
                "properties": {
                  "id": { "type": "string" },
                  "name": { "type": "string" },
                  "sprite": { "type": "string" }
                }
              }
            }
          }
        },
        "clothing": {
          "type": "object",
          "required": ["torso", "legs"],
          "properties": {
            "torso": {
              "type": "array",
              "items": {
                "type": "object",
                "required": ["id", "name", "sprite", "type"],
                "properties": {
                  "id": { "type": "string" },
                  "name": { "type": "string" },
                  "sprite": { "type": "string" },
                  "type": { "type": "string", "enum": ["light", "medium", "heavy"] }
                }
              }
            },
            "legs": {
              "type": "array",
              "items": {
                "type": "object",
                "required": ["id", "name", "sprite", "type"],
                "properties": {
                  "id": { "type": "string" },
                  "name": { "type": "string" },
                  "sprite": { "type": "string" },
                  "type": { "type": "string", "enum": ["light", "medium", "heavy"] }
                }
              }
            }
          }
        },
        "equipment": {
          "type": "object",
          "required": ["weapons", "accessories"],
          "properties": {
            "weapons": {
              "type": "array",
              "items": {
                "type": "object",
                "required": ["id", "name", "sprite", "type", "animationSet"],
                "properties": {
                  "id": { "type": "string" },
                  "name": { "type": "string" },
                  "sprite": { "type": "string" },
                  "type": { "type": "string", "enum": ["melee", "ranged", "magic"] },
                  "animationSet": { "type": "string" }
                }
              }
            },
            "accessories": {
              "type": "array",
              "items": {
                "type": "object",
                "required": ["id", "name", "sprite", "slot"],
                "properties": {
                  "id": { "type": "string" },
                  "name": { "type": "string" },
                  "sprite": { "type": "string" },
                  "slot": { "type": "string", "enum": ["head", "neck", "back", "belt"] }
                }
              }
            }
          }
        }
      }
    },
    "animations": {
      "type": "object",
      "required": ["idle", "walking", "attacking", "spellcasting"],
      "properties": {
        "idle": {
          "type": "object",
          "required": ["frames", "frameDuration"],
          "properties": {
            "frames": { "type": "integer", "minimum": 1 },
            "frameDuration": { "type": "integer", "minimum": 16 }
          }
        },
        "walking": {
          "type": "object",
          "required": ["frames", "frameDuration"],
          "properties": {
            "frames": { "type": "integer", "minimum": 3 },
            "frameDuration": { "type": "integer", "minimum": 16 }
          }
        },
        "attacking": {
          "type": "object",
          "required": ["melee", "ranged", "magic"],
          "properties": {
            "melee": {
              "type": "object",
              "required": ["frames", "frameDuration"],
              "properties": {
                "frames": { "type": "integer", "minimum": 3 },
                "frameDuration": { "type": "integer", "minimum": 16 }
              }
            },
            "ranged": {
              "type": "object",
              "required": ["frames", "frameDuration"],
              "properties": {
                "frames": { "type": "integer", "minimum": 3 },
                "frameDuration": { "type": "integer", "minimum": 16 }
              }
            },
            "magic": {
              "type": "object",
              "required": ["frames", "frameDuration"],
              "properties": {
                "frames": { "type": "integer", "minimum": 3 },
                "frameDuration": { "type": "integer", "minimum": 16 }
              }
            }
          }
        },
        "spellcasting": {
          "type": "object",
          "required": ["frames", "frameDuration"],
          "properties": {
            "frames": { "type": "integer", "minimum": 3 },
            "frameDuration": { "type": "integer", "minimum": 16 }
          }
        }
      }
    }
  }
} 