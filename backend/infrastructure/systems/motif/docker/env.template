# Motif System Environment Configuration
# Copy this file to .env and update with your actual values

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL database connection URL
DATABASE_URL=postgresql+asyncpg://motif_user:change_this_password@postgres:5432/motif_db

# Database credentials (used by Docker Compose)
POSTGRES_DB=motif_db
POSTGRES_USER=motif_user
POSTGRES_PASSWORD=change_this_password

# Database connection pool settings
POOL_SIZE=20
MAX_OVERFLOW=30
POOL_TIMEOUT=30
POOL_RECYCLE=3600

# =============================================================================
# REDIS CACHE CONFIGURATION
# =============================================================================

# Redis connection URL
REDIS_URL=redis://:change_redis_password@redis:6379/0
REDIS_PASSWORD=change_redis_password

# Cache TTL settings (in seconds)
CACHE_TTL_MOTIFS=1800
CACHE_TTL_STATISTICS=300
CACHE_TTL_CONTEXT=1200
CACHE_TTL_CANONICAL=86400

# =============================================================================
# API KEYS AND EXTERNAL SERVICES
# =============================================================================

# Anthropic API key (required for AI features)
ANTHROPIC_API_KEY=sk-ant-api03-your-anthropic-api-key-here

# Perplexity API key (optional, for research features)
PERPLEXITY_API_KEY=pplx-your-perplexity-api-key-here

# Claude model configuration
MODEL=claude-3-opus-20240229
MAX_TOKENS=8192
TEMPERATURE=0.7

# Perplexity model configuration
PERPLEXITY_MODEL=sonar-medium-online

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Secret key for session management (minimum 32 characters)
SECRET_KEY=your-very-secure-secret-key-min-32-characters-here

# JWT token secret key
JWT_SECRET_KEY=your-jwt-secret-key-for-token-signing

# JWT token expiration (in seconds)
JWT_EXPIRATION=3600

# API rate limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_AI_REQUESTS_PER_MINUTE=10

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Environment (development, staging, production)
ENVIRONMENT=production

# Logging configuration
LOG_LEVEL=info
DEBUG=false

# Server configuration
HOST=0.0.0.0
PORT=8000
WORKERS=4

# Request timeout (in seconds)
REQUEST_TIMEOUT=30
MAX_CONCURRENT_REQUESTS=100

# =============================================================================
# MOTIF SYSTEM SPECIFIC SETTINGS
# =============================================================================

# Default motif settings
DEFAULT_MOTIF_INTENSITY=5
DEFAULT_PRIORITY=medium
DEFAULT_SUBTASKS=5

# System limits
MAX_CONCURRENT_MOTIFS_PER_REGION=5
MAX_MOTIF_INTENSITY=10
MIN_MOTIF_INTENSITY=1

# Evolution and decay settings
MOTIF_DECAY_RATE_DAYS=0.1
CHAOS_TRIGGER_THRESHOLD=7.5
EVOLUTION_CHECK_INTERVAL_HOURS=24

# Context generation settings
CONTEXT_SEARCH_RADIUS_KM=50
MAX_CONTEXT_MOTIFS=20
CONTEXT_CACHE_ENABLED=true

# =============================================================================
# SSL/TLS CONFIGURATION (for production)
# =============================================================================

# SSL certificate paths (if using HTTPS)
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/private.key

# =============================================================================
# MONITORING AND METRICS
# =============================================================================

# Prometheus metrics
PROMETHEUS_ENABLED=true
METRICS_PORT=9090

# Health check configuration
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# =============================================================================
# PROJECT METADATA
# =============================================================================

# Project information
PROJECT_NAME=Dreamforge Motif System
PROJECT_VERSION=1.0.0
PROJECT_DESCRIPTION=Narrative framework for AI-driven storytelling

# =============================================================================
# EXTERNAL INTEGRATIONS
# =============================================================================

# CORS settings (comma-separated origins)
CORS_ORIGINS=http://localhost:3000,https://your-frontend-domain.com

# Webhook settings (optional)
WEBHOOK_URL=
WEBHOOK_SECRET=

# =============================================================================
# BACKUP AND MAINTENANCE
# =============================================================================

# Backup configuration
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

# Maintenance window (UTC time)
MAINTENANCE_WINDOW_START=02:00
MAINTENANCE_WINDOW_END=04:00

# =============================================================================
# DEVELOPMENT SETTINGS (development environment only)
# =============================================================================

# Development database (SQLite for local development)
# DATABASE_URL=sqlite+aiosqlite:///./motif_dev.db

# Development cache (disable Redis for local development)
# REDIS_URL=

# Development logging
# LOG_LEVEL=debug
# DEBUG=true

# =============================================================================
# ADVANCED CONFIGURATION
# =============================================================================

# Database query optimization
ENABLE_QUERY_CACHE=true
QUERY_CACHE_SIZE=1000
SLOW_QUERY_THRESHOLD_MS=1000

# Async settings
ASYNCIO_ENABLE_UVLOOP=true
ASYNCIO_MAX_WORKERS=10

# Memory settings
MAX_MEMORY_USAGE_MB=2048
MEMORY_WARNING_THRESHOLD_MB=1536

# Network settings
KEEP_ALIVE_TIMEOUT=5
CLIENT_TIMEOUT=30

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable specific features
FEATURE_CANONICAL_MOTIFS=true
FEATURE_CONFLICT_DETECTION=true
FEATURE_EVOLUTION_SYSTEM=true
FEATURE_SPATIAL_QUERIES=true
FEATURE_RESEARCH_MODE=true
FEATURE_BULK_OPERATIONS=true

# Experimental features (use with caution)
EXPERIMENTAL_AUTO_CONFLICT_RESOLUTION=false
EXPERIMENTAL_ML_PREDICTIONS=false
EXPERIMENTAL_REAL_TIME_UPDATES=false 