============================= test session starts ==============================
platform darwin -- Python 3.11.5, pytest-8.3.5, pluggy-1.6.0 -- /Users/Sharrone/.pyenv/versions/3.11.5/bin/python
cachedir: .pytest_cache
rootdir: /Users/Sharrone/Visual_DM/backend/tests
configfile: pytest.ini
plugins: anyio-4.9.0, Faker-37.3.0, mock-3.14.0, cov-6.1.1, asyncio-1.0.0
asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function
collecting ... Warning: Auth service unavailable due to missing dependencies: No module named 'backend.systems.auth_user.auth_service'
Warning: Auth relationships service unavailable: No module named 'backend.systems.auth_user.auth_relationships'
collected 6820 items / 4 skipped

backend/tests/systems/analytics/test_analytics_service_async.py::test_get_instance_async PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_async.py::test_async_event_processing PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_async.py::test_store_event PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_async.py::test_store_event_sync PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_async.py::test_store_event_sync_makedirs_failure PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_async.py::test_store_event_sync_write_failure PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_async.py::test_store_event_sync_all_failures PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_async.py::test_generate_dataset_async PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_async.py::test_stop_worker PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_async.py::test_queue_track_event PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_async.py::test_queue_full_error_handling PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_async.py::test_generic_error_handling PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_async.py::test_store_event_error_handling PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_async.py::test_get_analytics_middleware PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_async.py::test_no_event_queue_fallback PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_async.py::test_append_to_file PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_async.py::test_append_to_file_error_handling PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_async.py::test_middleware_event_mapping PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_async.py::test_middleware_error_handling PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_async.py::test_worker_process PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_async.py::test_start_and_stop_worker PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_async.py::test_stop_worker_method PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_async.py::test_log_event_with_non_canonical_type PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_async.py::test_event_path_construction PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_async.py::test_event_matches_filters PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_async.py::test_legacy_queue_track_event PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_async.py::test_generate_dataset_sync PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_get_instance_async PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_async_event_processing PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_store_event PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_store_event_sync PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_store_event_sync_makedirs_failure PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_store_event_sync_write_failure PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_store_event_sync_all_failures PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_generate_dataset_async PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_stop_worker PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_queue_track_event PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_queue_full_error_handling PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_generic_error_handling PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_store_event_error_handling PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_get_analytics_middleware PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_no_event_queue_fallback PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_append_to_file PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_append_to_file_error_handling PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_middleware_event_mapping PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_middleware_error_handling PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_worker_process PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_start_and_stop_worker PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_stop_worker_method PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_start_worker PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_log_event_async_regular_case PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_log_event_async_test_mode PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_log_event_async_queue_full PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_log_event_async_no_queue PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_event_path_construction PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_event_matches_filters PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_legacy_queue_track_event PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_worker_process_error_handling PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_worker_process_cancellation PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_worker_process_loop_error PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_queue_event_safely_async_path PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_queue_event_safely_sync_path PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_queue_event_safely_worker_task PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_queue_event_safely_no_queue PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_queue_event_safely_async_error PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_queue_event_safely_sync_error PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_get_instance PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_ensure_async_components_regular_case PASSED [  0%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_ensure_async_components_test_mode PASSED [  1%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_ensure_async_components_error PASSED [  1%]
backend/tests/systems/analytics/test_analytics_service_core.py::test_log_event_with_non_canonical_type PASSED [  1%]
backend/tests/systems/analytics/test_analytics_service_coverage.py::TestAnalyticsServiceCoverage::test_singleton_instance_creation PASSED [  1%]
backend/tests/systems/analytics/test_analytics_service_coverage.py::TestAnalyticsServiceCoverage::test_get_instance_sync PASSED [  1%]
backend/tests/systems/analytics/test_analytics_service_coverage.py::TestAnalyticsServiceCoverage::test_get_instance_async PASSED [  1%]
backend/tests/systems/analytics/test_analytics_service_coverage.py::TestAnalyticsServiceCoverage::test_storage_path_property PASSED [  1%]
backend/tests/systems/analytics/test_analytics_service_coverage.py::TestAnalyticsServiceCoverage::test_ensure_async_components_normal_mode PASSED [  1%]
backend/tests/systems/analytics/test_analytics_service_coverage.py::TestAnalyticsServiceCoverage::test_ensure_async_components_error_handling PASSED [  1%]
backend/tests/systems/analytics/test_analytics_service_coverage.py::TestAnalyticsServiceCoverage::test_process_event_queue_normal_operation PASSED [  1%]
backend/tests/systems/analytics/test_analytics_service_coverage.py::TestAnalyticsServiceCoverage::test_process_event_queue_error_handling PASSED [  1%]
backend/tests/systems/analytics/test_analytics_service_coverage.py::TestAnalyticsServiceCoverage::test_process_event_queue_cancellation PASSED [  1%]
backend/tests/systems/analytics/test_analytics_service_coverage.py::TestAnalyticsServiceCoverage::test_register_with_dispatcher_no_dispatcher PASSED [  1%]
backend/tests/systems/analytics/test_analytics_service_coverage.py::TestAnalyticsServiceCoverage::test_register_with_dispatcher_with_dispatcher PASSED [  1%]
backend/tests/systems/analytics/test_analytics_service_coverage.py::TestAnalyticsServiceCoverage::test_middleware_error_handling PASSED [  1%]
backend/tests/systems/analytics/test_analytics_service_coverage.py::TestAnalyticsServiceCoverage::test_middleware_next_handler_error PASSED [  1%]
backend/tests/systems/analytics/test_analytics_service_coverage.py::TestAnalyticsServiceCoverage::test_map_event_to_analytics_type_object_events PASSED [  1%]
backend/tests/systems/analytics/test_analytics_service_coverage.py::TestAnalyticsServiceCoverage::test_map_event_to_analytics_type_with_attributes PASSED [  1%]
backend/tests/systems/analytics/test_analytics_service_coverage.py::TestAnalyticsServiceCoverage::test_map_event_to_analytics_type_error_handling PASSED [  1%]
backend/tests/systems/analytics/test_analytics_service_coverage.py::TestAnalyticsServiceCoverage::test_log_event_async_with_source_event PASSED [  1%]
backend/tests/systems/analytics/test_analytics_service_coverage.py::TestAnalyticsServiceCoverage::test_log_event_no_queue_async_context PASSED [  1%]
backend/tests/systems/analytics/test_analytics_service_coverage.py::TestAnalyticsServiceCoverage::test_log_event_no_queue_sync_context PASSED [  1%]
backend/tests/systems/analytics/test_analytics_service_coverage.py::TestAnalyticsServiceCoverage::test_log_event_with_source_and_source_event PASSED [  1%]
backend/tests/systems/analytics/test_analytics_service_coverage.py::TestAnalyticsServiceCoverage::test_store_event_sync_directory_creation_error PASSED [  1%]
backend/tests/systems/analytics/test_analytics_service_coverage.py::TestAnalyticsServiceCoverage::test_store_event_sync_file_write_error PASSED [  1%]
backend/tests/systems/analytics/test_analytics_service_coverage.py::TestAnalyticsServiceCoverage::test_stop_worker_no_task PASSED [  1%]
backend/tests/systems/analytics/test_analytics_service_coverage.py::TestAnalyticsServiceCoverage::test_stop_worker_already_done PASSED [  1%]
backend/tests/systems/analytics/test_analytics_service_coverage.py::TestAnalyticsServiceCoverage::test_generate_dataset_with_entity_id_filter PASSED [  1%]
backend/tests/systems/analytics/test_analytics_service_coverage.py::TestAnalyticsServiceCoverage::test_generate_dataset_sync_file_processing_error 