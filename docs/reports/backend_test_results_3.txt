============================= test session starts ==============================
platform darwin -- Python 3.11.5, pytest-8.3.5, pluggy-1.6.0
rootdir: /Users/Sharrone/Visual_DM/backend
configfile: pyproject.toml
plugins: anyio-4.9.0, mock-3.14.0, cov-6.1.1
collected 77 items / 31 errors / 9 skipped

==================================== ERRORS ====================================
___ ERROR collecting app/src/core/visualdm_core/tests/test_cloud_storage.py ____
ImportError while importing test module '/Users/Sharrone/Visual_DM/backend/app/src/core/visualdm_core/tests/test_cloud_storage.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
../.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
backend/app/src/core/visualdm_core/tests/test_cloud_storage.py:4: in <module>
    from visualdm_core.cloud_storage import CloudStorage
E   ModuleNotFoundError: No module named 'visualdm_core'
__________________________ ERROR collecting app/tests __________________________
../.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
../.pyenv/versions/3.11.5/lib/python3.11/site-packages/_pytest/assertion/rewrite.py:185: in exec_module
    exec(co, module.__dict__)
backend/app/tests/conftest.py:7: in <module>
    from backend.app.db.session import Base, get_db
E   ImportError: cannot import name 'get_db' from 'backend.app.db.session' (/Users/Sharrone/Visual_DM/backend/app/db/session.py)
_____________ ERROR collecting app/world/test_viewport_manager.py ______________
ImportError while importing test module '/Users/Sharrone/Visual_DM/backend/app/world/test_viewport_manager.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
../.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
backend/app/world/__init__.py:4: in <module>
    from .routes import world_bp
E   ModuleNotFoundError: No module named 'backend.app.world.routes'
_______________ ERROR collecting app/world/tests/test_region.py ________________
ImportError while importing test module '/Users/Sharrone/Visual_DM/backend/app/world/tests/test_region.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
../.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
backend/app/world/__init__.py:4: in <module>
    from .routes import world_bp
E   ModuleNotFoundError: No module named 'backend.app.world.routes'
______________ ERROR collecting app/world/tests/test_renderer.py _______________
ImportError while importing test module '/Users/Sharrone/Visual_DM/backend/app/world/tests/test_renderer.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
../.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
backend/app/world/__init__.py:4: in <module>
    from .routes import world_bp
E   ModuleNotFoundError: No module named 'backend.app.world.routes'
______________ ERROR collecting app/world/tests/test_viewport.py _______________
ImportError while importing test module '/Users/Sharrone/Visual_DM/backend/app/world/tests/test_viewport.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
../.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
backend/app/world/__init__.py:4: in <module>
    from .routes import world_bp
E   ModuleNotFoundError: No module named 'backend.app.world.routes'
___________ ERROR collecting combat/tests/test_damage_composition.py ___________
import file mismatch:
imported module 'test_damage_composition' has this __file__ attribute:
  /Users/Sharrone/Visual_DM/backend/app/combat/tests/test_damage_composition.py
which is not the same as the test file we want to collect:
  /Users/Sharrone/Visual_DM/backend/combat/tests/test_damage_composition.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
______ ERROR collecting core/managers/tests/test_robust_scene_manager.py _______
ImportError while importing test module '/Users/Sharrone/Visual_DM/backend/core/managers/tests/test_robust_scene_manager.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
../.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
backend/core/managers/tests/test_robust_scene_manager.py:16: in <module>
    import psutil
E   ModuleNotFoundError: No module named 'psutil'
------------------------------- Captured stdout --------------------------------
pygame 2.6.1 (SDL 2.28.4, Python 3.11.5)
Hello from the pygame community. https://www.pygame.org/contribute.html
____________ ERROR collecting core2/models/test_item_attributes.py _____________
ImportError while importing test module '/Users/Sharrone/Visual_DM/backend/core2/models/test_item_attributes.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
../.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
backend/core2/models/__init__.py:5: in <module>
    from app.core.database import db
E   ModuleNotFoundError: No module named 'app'
___________ ERROR collecting core2/models/tests/test_world_event.py ____________
ImportError while importing test module '/Users/Sharrone/Visual_DM/backend/core2/models/tests/test_world_event.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
../.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
backend/core2/models/tests/test_world_event.py:3: in <module>
    from backend.core2.models.world_event import WorldEvent
backend/core2/models/__init__.py:5: in <module>
    from app.core.database import db
E   ModuleNotFoundError: No module named 'app'
____________ ERROR collecting factions/test_faction_system_utils.py ____________
ImportError while importing test module '/Users/Sharrone/Visual_DM/backend/factions/test_faction_system_utils.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
../.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
backend/factions/test_faction_system_utils.py:3: in <module>
    from backend.factions import faction_system_utils as fsu
backend/factions/faction_system_utils.py:19: in <module>
    from backend.world.utils.world_event_utils import log_world_event
backend/world/__init__.py:5: in <module>
    from visual_client.game.world import WorldState
E   ModuleNotFoundError: No module named 'visual_client'
____________ ERROR collecting inventory/test_inventory_container.py ____________
ImportError while importing test module '/Users/Sharrone/Visual_DM/backend/inventory/test_inventory_container.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
../.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
backend/inventory/test_inventory_container.py:3: in <module>
    from app.inventory.inventory_utils import InventoryContainer
E   ModuleNotFoundError: No module named 'app'
_ ERROR collecting python_converted/src/worldgen/core/test_deterministic_rng.py _
ImportError while importing test module '/Users/Sharrone/Visual_DM/backend/python_converted/src/worldgen/core/test_deterministic_rng.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
../.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
backend/python_converted/src/worldgen/__init__.py:32: in <module>
    from .region import *
backend/python_converted/src/worldgen/region/__init__.py:11: in <module>
    from python_converted.src.worldgen.region.BaseRegionGenerator import BaseRegionGenerator
E   ModuleNotFoundError: No module named 'python_converted'
_ ERROR collecting python_converted/src/worldgen/environment/__tests__/test_biome_transitions.py _
ImportError while importing test module '/Users/Sharrone/Visual_DM/backend/python_converted/src/worldgen/environment/__tests__/test_biome_transitions.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
../.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
backend/python_converted/src/worldgen/environment/__tests__/test_biome_transitions.py:11: in <module>
    from ..BiomeTypes import BiomeType, BIOME_PARAMETERS, TRANSITION_BIOMES
E   ImportError: attempted relative import with no known parent package
_____________ ERROR collecting regions/test_region_revolt_utils.py _____________
ImportError while importing test module '/Users/Sharrone/Visual_DM/backend/regions/test_region_revolt_utils.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
../.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
backend/regions/__init__.py:6: in <module>
    from app.regions.tension_utils import (
E   ModuleNotFoundError: No module named 'app.regions.tension_utils'
___________ ERROR collecting src/economy/test_bargaining_session.py ____________
ImportError while importing test module '/Users/Sharrone/Visual_DM/backend/src/economy/test_bargaining_session.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
../.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
backend/src/economy/test_bargaining_session.py:2: in <module>
    from src.economy.BargainingSession import BargainingSession, MarketKnowledgeComponent
E   ModuleNotFoundError: No module named 'src.economy'
__________ ERROR collecting src/economy/test_npc_inventory_manager.py __________
ImportError while importing test module '/Users/Sharrone/Visual_DM/backend/src/economy/test_npc_inventory_manager.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
../.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
backend/src/economy/test_npc_inventory_manager.py:3: in <module>
    from src.economy.NPCInventoryManager import NPCInventoryManager, InventoryProfile
E   ModuleNotFoundError: No module named 'src.economy'
________ ERROR collecting src/economy/test_price_negotiation_service.py ________
ImportError while importing test module '/Users/Sharrone/Visual_DM/backend/src/economy/test_price_negotiation_service.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
../.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
backend/src/economy/test_price_negotiation_service.py:3: in <module>
    from src.economy.PriceNegotiationService import (
E   ModuleNotFoundError: No module named 'src.economy'
_______ ERROR collecting src/economy/test_profit_optimization_engine.py ________
ImportError while importing test module '/Users/Sharrone/Visual_DM/backend/src/economy/test_profit_optimization_engine.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
../.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
backend/src/economy/test_profit_optimization_engine.py:3: in <module>
    from src.economy.ProfitOptimizationEngine import ProfitOptimizationEngine, RiskProfile
E   ModuleNotFoundError: No module named 'src.economy'
_________________ ERROR collecting tests/api/test_world_api.py _________________
ImportError while importing test module '/Users/Sharrone/Visual_DM/backend/tests/api/test_world_api.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
../.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
backend/tests/api/test_world_api.py:3: in <module>
    from backend.main import app
backend/main.py:8: in <module>
    from core.application import Application
E   ModuleNotFoundError: No module named 'core.application'
_____________ ERROR collecting tests/core/events/test_event_bus.py _____________
ImportError while importing test module '/Users/Sharrone/Visual_DM/backend/tests/core/events/test_event_bus.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
../.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
backend/tests/core/events/test_event_bus.py:10: in <module>
    from backend.core.events.event_bus import EventBus, EventPriority, event_bus
E   ImportError: cannot import name 'event_bus' from 'backend.core.events.event_bus' (/Users/Sharrone/Visual_DM/backend/core/events/event_bus.py)
_________________ ERROR collecting tests/security/test_auth.py _________________
ImportError while importing test module '/Users/Sharrone/Visual_DM/backend/tests/security/test_auth.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
../.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
backend/tests/security/test_auth.py:3: in <module>
    from backend.main import app
backend/main.py:8: in <module>
    from core.application import Application
E   ModuleNotFoundError: No module named 'core.application'
____________ ERROR collecting tests/test_async_function_patterns.py ____________
backend/tests/test_async_function_patterns.py:58: in <module>
    async def async_generator() -> AsyncGenerator[int, None]:
E   NameError: name 'AsyncGenerator' is not defined
_______________ ERROR collecting tests/test_coordinate_utils.py ________________
ImportError while importing test module '/Users/Sharrone/Visual_DM/backend/tests/test_coordinate_utils.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
../.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
backend/tests/test_coordinate_utils.py:7: in <module>
    from visual_client.core.utils.coordinates import (
E   ModuleNotFoundError: No module named 'visual_client'
_____________ ERROR collecting tests/test_coordinate_validation.py _____________
ImportError while importing test module '/Users/Sharrone/Visual_DM/backend/tests/test_coordinate_validation.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
../.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
backend/tests/test_coordinate_validation.py:8: in <module>
    from visual_client.core.utils.coordinates import GlobalCoord, LocalCoord
E   ModuleNotFoundError: No module named 'visual_client'
________________ ERROR collecting tests/test_floating_origin.py ________________
ImportError while importing test module '/Users/Sharrone/Visual_DM/backend/tests/test_floating_origin.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
../.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
backend/tests/test_floating_origin.py:8: in <module>
    from visual_client.core.utils.coordinates import (
E   ModuleNotFoundError: No module named 'visual_client'
______________ ERROR collecting tests/test_floating_origin_ecs.py ______________
ImportError while importing test module '/Users/Sharrone/Visual_DM/backend/tests/test_floating_origin_ecs.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
../.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
backend/tests/test_floating_origin_ecs.py:6: in <module>
    from visual_client.core.utils.coordinates import GlobalCoord, LocalCoord
E   ModuleNotFoundError: No module named 'visual_client'
____________________ ERROR collecting tests/test_logger.py _____________________
ImportError while importing test module '/Users/Sharrone/Visual_DM/backend/tests/test_logger.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
../.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
backend/tests/test_logger.py:11: in <module>
    from utils.logger import Logger, LogLevel, ConsoleLogHandler, JsonLogHandler, AsyncLogHandler
E   ModuleNotFoundError: No module named 'utils.logger'; 'utils' is not a package
_____________________ ERROR collecting tests/test_retry.py _____________________
ImportError while importing test module '/Users/Sharrone/Visual_DM/backend/tests/test_retry.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
../.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
backend/tests/test_retry.py:5: in <module>
    from backend.utils.retry import retry, retry_sync, retry_async, RetryOptions
backend/utils/retry.py:7: in <module>
    from backend.utils.logger import Logger
E   ModuleNotFoundError: No module named 'backend.utils.logger'
__________________ ERROR collecting tests/unit/test_models.py __________________
ImportError while importing test module '/Users/Sharrone/Visual_DM/backend/tests/unit/test_models.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
../.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
backend/tests/unit/test_models.py:2: in <module>
    from backend.models.world import World
E   ModuleNotFoundError: No module named 'backend.models.world'
_____________ ERROR collecting tests2/combat/test_reach_weapons.py _____________
ImportError while importing test module '/Users/Sharrone/Visual_DM/backend/tests2/combat/test_reach_weapons.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
../.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
backend/tests2/combat/test_reach_weapons.py:7: in <module>
    from app.combat.reach_weapons import ReachWeaponHandler
E   ModuleNotFoundError: No module named 'app.combat.reach_weapons'
=============================== warnings summary ===============================
../.pyenv/versions/3.11.5/lib/python3.11/site-packages/pydantic/_internal/_config.py:323
  /Users/Sharrone/.pyenv/versions/3.11.5/lib/python3.11/site-packages/pydantic/_internal/_config.py:323: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    warnings.warn(DEPRECATION_MESSAGE, DeprecationWarning)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
ERROR backend/app/src/core/visualdm_core/tests/test_cloud_storage.py
ERROR backend/app/tests - ImportError: cannot import name 'get_db' from 'back...
ERROR backend/app/world/test_viewport_manager.py
ERROR backend/app/world/tests/test_region.py
ERROR backend/app/world/tests/test_renderer.py
ERROR backend/app/world/tests/test_viewport.py
ERROR backend/combat/tests/test_damage_composition.py
ERROR backend/core/managers/tests/test_robust_scene_manager.py
ERROR backend/core2/models/test_item_attributes.py
ERROR backend/core2/models/tests/test_world_event.py
ERROR backend/factions/test_faction_system_utils.py
ERROR backend/inventory/test_inventory_container.py
ERROR backend/python_converted/src/worldgen/core/test_deterministic_rng.py
ERROR backend/python_converted/src/worldgen/environment/__tests__/test_biome_transitions.py
ERROR backend/regions/test_region_revolt_utils.py
ERROR backend/src/economy/test_bargaining_session.py
ERROR backend/src/economy/test_npc_inventory_manager.py
ERROR backend/src/economy/test_price_negotiation_service.py
ERROR backend/src/economy/test_profit_optimization_engine.py
ERROR backend/tests/api/test_world_api.py
ERROR backend/tests/core/events/test_event_bus.py
ERROR backend/tests/security/test_auth.py
ERROR backend/tests/test_async_function_patterns.py - NameError: name 'AsyncG...
ERROR backend/tests/test_coordinate_utils.py
ERROR backend/tests/test_coordinate_validation.py
ERROR backend/tests/test_floating_origin.py
ERROR backend/tests/test_floating_origin_ecs.py
ERROR backend/tests/test_logger.py
ERROR backend/tests/test_retry.py
ERROR backend/tests/unit/test_models.py
ERROR backend/tests2/combat/test_reach_weapons.py
!!!!!!!!!!!!!!!!!!! Interrupted: 31 errors during collection !!!!!!!!!!!!!!!!!!!
=================== 9 skipped, 1 warning, 31 errors in 2.38s ===================
